<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asynchronous operations</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <header>
        <h1>Introduction to Synchronous and Asynchronous Operations in TypeScript</h1>
        <p>
            TypeScript, a superset of JavaScript, is a versatile language commonly used for web and server-side development. 
            In TypeScript, like in JavaScript, operations can be categorized into two fundamental modes: synchronous and asynchronous.

        </p>

    </header>
    
    <section>
        <h1>Synchronous Operations</h1>
        <p><strong>Synchronous code</strong> in a programming language like TypeScript or JavaScript executes statements 
            one after another in a sequential manner. In other words, each line of code is executed in order, 
            and the program waits for a task to complete before moving on to the next task.
        </p>
        <p>
            Here's how synchronous code works:
        </p>
        <ol>
                <li>
                    <strong>Sequential Execution</strong>: In a synchronous program, each line of code is executed in a top-down order, from the first line to the last. If you have function calls or operations that take time, they block the execution of subsequent code until they are complete.
                </li>
                <li>
                    <strong>Blocking Operations:</strong> In synchronous code, blocking operations are common. These are operations that take a significant amount of time to complete, such as network requests, file I/O, or complex calculations. During these blocking operations, the entire program is essentially paused until the operation finishes.
                </li>
                <li>
                    <strong>Single Thread:</strong> Most JavaScript and TypeScript environments, like web browsers or Node.js, are single-threaded. This means they have a single main thread for executing code. Synchronous code runs on this main thread.
                </li>
   
            </ol>
            <p>
                Example: Here's a simple example of synchronous code in TypeScript:
            </p>

<pre>
    <code>
        function add(a: number, b: number): number {
            return a + b;
        }
        
        function main() {
            const result1 = add(2, 3);
            console.log("Result 1:", result1);
        
            const result2 = add(5, 7);
            console.log("Result 2:", result2);
        }
        
        main();
    </code>
</pre>

            <p>
                In this example, add function calls are executed sequentially in the main function. The program waits for result1 before calculating result2.
            </p>
            <p>
                While synchronous code is straightforward and easy to understand, it can lead to poor performance and unresponsiveness, 
                especially in scenarios where there are long-running tasks. As a result, asynchronous programming techniques, 
                such as callbacks, promises, async/await, and event-driven programming, 
                are used to handle tasks that may block execution, allowing the program to remain responsive and efficient.
            </p>


            <figure>
                <img src="images/synchronous.png" alt="">
            </figure>
            <p>
                Using <strong>synchronous operations</strong>, if we make a request to a server, we need to wait for response. While 
                    waiting, nothing will happen, because the line of code, that made the request is not finished yet. This happens , 
                    because synchronous code only runs one line at the time. But meantime, there might be other things to be run..maybe 
                    a mouse click
                </strong>
            </p>

     </section>       

    <section>
        <h1>Asynchronous Operations</h1>
        <p>
            Asynchronous operations are essential for handling time-consuming tasks efficiently. 
            In TypeScript, asynchronous code doesn't block the execution of the program. Instead, it allows tasks to be performed in the background,
             freeing up the main thread for other activities. 
        </p>

        <figure>
            <img src="images/asynchronous.png" alt="">
        </figure>
        <p>
            Asynchronous operations are commonly used for handling events, making network requests, and processing data in a non-blocking manner. TypeScript provides several 
            mechanisms for handling asynchronous tasks, such as callbacks, promises, async/await, and event-driven programming.
        </p>
    </section>


    <section>
        <h1>async / await</h1>
        <p>
            Is a powerful feature in TypeScript (and JavaScript) for handling asynchronous operations 
            in a more synchronous and readable way. It simplifies asynchronous code by allowing 
            you to write it in a more linear, synchronous style, which is easier to understand and maintain. 
        </p>
        <p>
            <strong>asynch/await</strong> is built on top of Promises, which are a mechanism for working with asynchronous 
            operations in a structured manner.
        </p>
        <p>
            Here's an explanation:
        </p>

        <ul>
            <li>
                <strong>'async'</strong> is used before a function to indicate that it contains asynchronous code.
            </li>
            <li>
                <strong>'await'</strong> is used within an async function to pause the execution of that function until 
                a  promise is resolved. It 'awaits' the result of an asynchronous operation.
            </li>
            <li>
                <strong>'async'</strong> function returns a Promise, allowing you to work with them in a familiar way.
            </li>
        </ul>

<pre>
    <code>
async function fetchUseData(userID: number): Promise<{name: string}> {

    //this particular block of code will be paused until the data come back..but rest of the program might work
    const response = await fetch('https://jsonplaceholder.typicode.com/users/#{userID}')

    //wait to be 'response' transformed to 'json' format
    const data = await response.json()

    return {name: data.name}
}

(
    async () => {
        try {
            const userData = await fetchUseData(1);
            console.log(userData.name);

        } catch(e){
            console.error(e);
        }
    }
)();
    </code>
</pre>
    </section>



    <script src="asynchronousC/asynchronous.js"></script>
    
</body>
</html>